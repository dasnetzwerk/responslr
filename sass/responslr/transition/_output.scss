/***********************************************************************************
	OUTPUT - TRANSITION
***********************************************************************************/


/***********************************************************************************
	DEFAULT MAP FUNCTIONS
***********************************************************************************/

@function responslr-transition-exists($name) {
	@return map-has-key($responslr-transitions, $name);
}

@function responslr-transition($name: null) {
	$return-transition: ();

	@if $name == null {
		$name: $responslr-transitions-default;
	}

	@if responslr-transition-exists($name) {
		$return-transition: map-get($responslr-transitions, $name);
	}

	@return $return-transition;
}


/***********************************************************************************
	MAP VALUE FUNCTIONS
***********************************************************************************/

@function responslr-transition-properties($name: null) {
	$return-properties: map-get(responslr-transition($name), properties);

	@if $return-properties == null {
		$return-properties: $responslr-transitions-default-properties;
	}

	@return $return-properties;
}

@function responslr-transition-duration($name: null) {
	$return-duration: map-get(responslr-transition($name), duration);

	@if $return-duration == null {
		$return-duration: $responslr-transitions-default-duration;
	}

	@return $return-duration;
}

@function responslr-transition-timing-function($name: null) {
	$return-timing-function: map-get(responslr-transition($name), timing-function);

	@if $return-timing-function == null {
		$return-timing-function: $responslr-transitions-default-timing-function;
	}

	@return $return-timing-function;
}

@function responslr-transition-delay($name: null) {
	$return-delay: map-get(responslr-transition($name), delay);

	@if $return-delay == null {
		$return-delay: $responslr-transitions-default-delay;
	}

	@return $return-delay;
}

@function responslr-transition-hardware-acceleration($name: null) {
	$return-hardware-acceleration: map-get(responslr-transition($name), hardware-acceleration);

	@if $return-hardware-acceleration == null {
		$return-hardware-acceleration: $responslr-transitions-default-hardware-acceleration;
	}

	@return $return-hardware-acceleration;
}


/***********************************************************************************
	MIXINS
***********************************************************************************/

@mixin responslr-transition($name: null, $properties: null, $duration: null, $timing-function: null, $delay: null) {
	@if $properties == null {
		$properties: unquote(responslr-transition-properties($name));
	} @else {
		$properties: unquote($properties);
	}

	@if $duration == null {
		$duration: responslr-transition-duration($name);
	}

	@if $timing-function == null {
		$timing-function: responslr-transition-timing-function($name);
	}

	@if $timing-function == null {
		$timing-function: responslr-transition-timing-function($name);
	}

	@if $delay == null {
		$delay: responslr-transition-delay($name);
	}

	@include transition(all $duration $timing-function $delay);

	@if $properties != all {
		@include transition-property($properties);
	}

	@if responslr-transition-hardware-acceleration($name) {
		@include transform(translate3d(0,0,0));
	}
}


/***********************************************************************************
	CLASS GENERATOR
***********************************************************************************/

@function responslr-generate-transitions-check() {
	@return $responslr-generate-transitions && responslr-map-isnotempty($responslr-transitions);
}

@mixin responslr-generate-transitions() {
	@each $transition-key, $transition-list in $responslr-transitions {
		.#{$responslr-transition-class-prefix}#{$transition-key} {
			@include responslr-transition($transition-key);
		}
	}
}

@if responslr-generate-transitions-check() {
	@include responslr-generate-transitions();
}